{"version":3,"sources":["_front-page.js","_poisson.js"],"names":["window","$","hasClass","console","log","jQuery","sketch","p","makePoisson","settings","poisson","grid","active","r","k","DOT_LIMIT","DOT_SIZE","dotCount","cols","floor","width","w","rows","height","i","undefined","x","random","y","h","j","pos","createVector","push","NUM_POISSON","poissons","Math","sqrt","dotsPerDraw","setup","canvas","createCanvas","windowWidth","windowHeight","parent","background","strokeWeight","draw","b","length","dotDrawSlopeDown","noLoop","total","randIndex","found","n","sample","p5","Vector","random2D","m","setMag","add","col","row","ok","index","neighbor","d","dist","splice","q","stroke","point","l"],"mappings":"CAAA,SAAAA,EAAAC,GAEAA,EAAA,QAAAC,SAAA,SACAC,QAAAC,IAAA,UAIAJ,OAAAK,QCPA,SAAAL,EAAAC,GAEA,GAAAA,EAAA,YAAA,GAAA,CAEAE,QAAAC,IAAA,WAEA,IAAAE,GAAA,SAAAC,GA+GA,QAAAC,GAAAC,GACA,GAAAC,KAEAA,GAAAC,QACAD,EAAAE,UACAF,EAAAG,EAAAJ,EAAAI,EACAH,EAAAI,EAAAL,EAAAK,EACAJ,EAAAK,UAAAN,EAAAM,UACAL,EAAAM,SAAAP,EAAAO,SACAN,EAAAO,SAAA,EAEAP,EAAAQ,KAAAX,EAAAY,MAAAZ,EAAAa,MAAAC,GACAX,EAAAY,KAAAf,EAAAY,MAAAZ,EAAAgB,OAAAF,EAEA,KAAA,GAAAG,GAAA,EAAAA,EAAAd,EAAAQ,KAAAR,EAAAY,KAAAE,IACAd,EAAAC,KAAAa,GAAAC,MAGA,IAAAC,GAAAnB,EAAAoB,OAAApB,EAAAa,OACAQ,EAAArB,EAAAoB,OAAApB,EAAAgB,QAGAM,EAAAtB,EAAAY,MAAAO,EAAAL,GACAS,EAAAvB,EAAAY,MAAAS,EAAAP,GACAU,EAAAxB,EAAAyB,aAAAN,EAAAE,EAMA,OAJAlB,GAAAC,KAAAkB,EAAAC,EAAApB,EAAAQ,MAAAa;AAEArB,EAAAE,OAAAqB,KAAAF,GAEArB,EA3IA,GAAAD,IACAI,EAAA,GACAC,EAAA,GACAE,SAAA,EACAD,UAAA,KAEAmB,EAAA,EACAC,KAEAd,EAAAZ,EAAAI,EAAAuB,KAAAC,KAAA,GAGAC,EAAA,CAEA/B,GAAAgC,MAAA,WACApC,QAAAC,IAAA,SACA,IAAAoC,GAAAjC,EAAAkC,aAAAlC,EAAAmC,YAAAnC,EAAAoC,aACAH,GAAAI,OAAA,WACArC,EAAAsC,WAAA,EAAA,EAAA,GACAtC,EAAAuC,aAAA,EAEA,KAAA,GAAAtB,GAAA,EAAAA,EAAAU,EAAAV,IAAA,CACA,GAAAO,GAAAvB,EAAAC,EACA0B,GAAAF,KAAAF,KAKAxB,EAAAwC,KAAA,WACA5C,QAAAC,IAAA,QACAG,EAAAsC,WAAA,EAAA,EAAA,EAEA,KAAA,GAAAG,GAAA,EAAAA,EAAAb,EAAAc,OAAAD,IAAA,CAIA,GAAAE,GAAA3C,EAAAY,MAAAgB,EAAAa,GAAA/B,SAAAkB,EAAAa,GAAAjC,UAAA,GAGAuB,GAAAY,EAAA,IACA/C,QAAAC,IAAA,QACAG,EAAA4C,SAEA,KAAA,GAAAC,GAAA,EAAAA,EAAAd,EAAAY,EAAAE,IACA,GAAAjB,EAAAa,GAAApC,OAAAqC,OAAA,GAAAd,EAAAa,GAAA/B,SAAAkB,EAAAa,GAAAjC,UAAA;AAIA,IAAA,GAHAsC,GAAA9C,EAAAY,MAAAZ,EAAAoB,OAAAQ,EAAAa,GAAApC,OAAAqC,SACAlB,EAAAI,EAAAa,GAAApC,OAAAyC,GACAC,GAAA,EACAC,EAAA,EAAAA,EAAApB,EAAAa,GAAAlC,EAAAyC,IAAA,CACA,GAAAC,GAAAC,GAAAC,OAAAC,WAEAC,EAAArD,EAAAoB,OAAAQ,EAAAa,GAAAnC,EAAA,EAAAsB,EAAAa,GAAAnC,EACA2C,GAAAK,OAAAD,GACAJ,EAAAM,IAAA/B,EAEA,IAAAgC,GAAAxD,EAAAY,MAAAqC,EAAA9B,EAAAL,GACA2C,EAAAzD,EAAAY,MAAAqC,EAAA5B,EAAAP,EAEA,IAAA0C,MAAAC,MAAAD,EAAA5B,EAAAa,GAAA9B,MAAA8C,EAAA7B,EAAAa,GAAA1B,OAAAa,EAAAa,GAAArC,KAAAoD,EAAAC,EAAA7B,EAAAa,GAAA9B,MAAA,CAEA,IAAA,GADA+C,IAAA,EACAzC,KAAAA,GAAA,EAAAA,IACA,IAAA,GAAAM,MAAAA,GAAA,EAAAA,IAAA,CACA,GAAAoC,GAAAH,EAAAvC,GAAAwC,EAAAlC,GAAAK,EAAAa,GAAA9B,KACAiD,EAAAhC,EAAAa,GAAArC,KAAAuD,EACA,IAAAC,EAAA,CACA,GAAAC,GAAAX,GAAAC,OAAAW,KAAAb,EAAAW,EACAC,GAAAjC,EAAAa,GAAAnC,IACAoD,GAAA,IAMAA,IACAX,GAAA,EACAnB,EAAAa,GAAArC,KAAAoD,EAAAC,EAAA7B,EAAAa,GAAA9B,MAAAsC,EACArB,EAAAa,GAAApC,OAAAqB,KAAAuB,KAIAF,GAEAnB,EAAAa,GAAApC,OAAA0D,OAAAjB,EAAA,GAMA,IAAA,GAAAkB,GAAA,EAAAA,EAAApC,EAAAa,GAAArC,KAAAsC,OAAAsB,IACApC,EAAAa,GAAArC,KAAA4D,KACAhE,EAAAiE,OAAA,IAAA,IAAA;AACAjE,EAAAuC,aAAAX,EAAAa,GAAAhC,UACAT,EAAAkE,MAAAtC,EAAAa,GAAArC,KAAA4D,GAAA7C,EAAAS,EAAAa,GAAArC,KAAA4D,GAAA3C,GACAO,EAAAa,GAAA/B,WAMA,KAAA,GAAAyD,GAAA,EAAAA,EAAAvC,EAAAa,GAAApC,OAAAqC,OAAAyB,IACAnE,EAAAiE,OAAA,IAAA,IAAA,KACAjE,EAAAuC,aAAAX,EAAAa,GAAAhC,UACAT,EAAAkE,MAAAtC,EAAAa,GAAApC,OAAA8D,GAAAhD,EAAAS,EAAAa,GAAApC,OAAA8D,GAAA9C,GACAO,EAAAa,GAAA/B,aAwCA,IAAAwC,IAAAnD,KAEAN,OAAAK","file":"main.js","sourcesContent":["(function(window, $) {\n\n\tif (!$('body').hasClass('home')) return;\n\tconsole.log(\"BOOTY\");\n\n\n\n})(window, jQuery);","(function(window, $) {\n\n\tif (!$('#poisson')[0]) return;\n\t\n\tconsole.log('poisson!');\n\n\tvar sketch = function( p ) {\n\n\t  var settings = {\n\t  \tr: 13,\n\t  \tk: 30,\n\t  \tDOT_SIZE: 1,\n\t  \tDOT_LIMIT: 800000\n\t  };\n\t  var NUM_POISSON = 2;\n\t  var poissons = [];\n\n\t  var w = settings.r / Math.sqrt(2);\n\n\n\t  var dotsPerDraw = 6;\n\n\t  p.setup = function() {\n\t  \tconsole.log('setup!');\n\t  \tvar canvas = p.createCanvas(p.windowWidth, p.windowHeight);\n\t  \tcanvas.parent(\"poisson\");\n\t  \tp.background(0,0,0);\n\t  \tp.strokeWeight(4);\n\n\t  \tfor (var i = 0; i < NUM_POISSON; i++) {\n\t  \t\tvar pos = makePoisson(settings);\n\t  \t\tpoissons.push(pos);\n\t  \t}\n\t  \t// p.frameRate(10);\n\t  };\n\n\t  p.draw = function() {\n\t    console.log('draw');\n\t    p.background(0,0,0);\n\n\t    for (var b = 0; b < poissons.length; b++) {\n\n\t    \t\n\n\t    \tvar dotDrawSlopeDown = p.floor((poissons[b].dotCount/poissons[b].DOT_LIMIT)*10);\n\t    \t// console.log(dotsPerDraw-dotDrawSlopeDown);\n\n\t    \tif (dotsPerDraw-dotDrawSlopeDown < 0) {\n\t    \t\tconsole.log('stop');\n\t    \t\tp.noLoop();\n\t    \t}\n\t    \tfor (var total = 0; total < dotsPerDraw-dotDrawSlopeDown; total++) {\n\t    \t\tif (poissons[b].active.length > 0 && poissons[b].dotCount < poissons[b].DOT_LIMIT){\n\t    \t\t\tvar randIndex = p.floor(p.random(poissons[b].active.length));\n\t    \t\t\tvar pos = poissons[b].active[randIndex];\n\t    \t\t\tvar found = false;\n\t    \t\t\tfor (var n = 0; n < poissons[b].k; n++) {\n\t    \t\t\t\tvar sample = p5.Vector.random2D();\n\n\t    \t\t\t\tvar m = p.random(poissons[b].r, 2*poissons[b].r);\n\t    \t\t\t\tsample.setMag(m);\n\t    \t\t\t\tsample.add(pos);\n\n\t    \t\t\t\tvar col = p.floor(sample.x / w);\n\t    \t\t\t\tvar row = p.floor(sample.y / w);\n\n\t    \t\t\t\tif (col > -1 && row > -1 && col < poissons[b].cols && row < poissons[b].rows && !poissons[b].grid[col+row * poissons[b].cols]) {\n\t    \t\t\t\t\tvar ok = true;\n\t    \t\t\t\t\tfor (var i = -1; i <= 1; i++) {\n\t    \t\t\t\t\t\tfor (var j = -1; j <= 1; j++) {\n\t    \t\t\t\t\t\t\tvar index = (col+i) + (row+j) * poissons[b].cols;\n\t    \t\t\t\t\t\t\tvar neighbor = poissons[b].grid[index];\n\t    \t\t\t\t\t\t\tif (neighbor) {\n\t    \t\t\t\t\t\t\t\tvar d = p5.Vector.dist(sample, neighbor);\n\t    \t\t\t\t\t\t\t\tif (d < poissons[b].r) {\n\t    \t\t\t\t\t\t\t\t\tok = false;\n\t    \t\t\t\t\t\t\t\t}\n\t    \t\t\t\t\t\t\t}\n\t    \t\t\t\t\t\t}\n\t    \t\t\t\t\t}\n\n\t    \t\t\t\t\tif (ok) {\n\t    \t\t\t\t\t\tfound = true;\n\t    \t\t\t\t\t\tpoissons[b].grid[col+row * poissons[b].cols] = sample;\n\t    \t\t\t\t\t\tpoissons[b].active.push(sample);\n\t    \t\t\t\t\t}\n\t    \t\t\t\t}\n\t    \t\t\t}\n\t    \t\t\tif (!found) {\n\t    \t\t\t\t// console.log('splice');\n\t    \t\t\t\tpoissons[b].active.splice(randIndex,1);\n\t    \t\t\t}\n\t    \t\t}\n\t    \t}\n\n\t    \t//inside dots\n\t    \tfor (var q = 0; q < poissons[b].grid.length; q++) {\n\t    \t\tif (poissons[b].grid[q]) {\n\t    \t\t\tp.stroke(255, 126, 0);\n\t    \t\t\tp.strokeWeight(poissons[b].DOT_SIZE);\n\t    \t\t\tp.point(poissons[b].grid[q].x, poissons[b].grid[q].y);\n\t    \t\t\tpoissons[b].dotCount++;\n\n\t    \t\t}\n\t    \t}\n\n\t    \t//outside dots\n\t    \tfor (var l = 0; l < poissons[b].active.length; l++) {\n\t    \t\tp.stroke(255,255,255);\n\t    \t\tp.strokeWeight(poissons[b].DOT_SIZE);\n\t    \t\tp.point(poissons[b].active[l].x, poissons[b].active[l].y);\n\t    \t\tpoissons[b].dotCount++;\n\t    \t}\n\t    }\n\n\n\t  };\n\t  function makePoisson(settings){\n\t  \tvar poisson = {};\n\n\t  \tpoisson.grid = [];\n\t  \tpoisson.active = [];\n\t  \tpoisson.r = settings.r;\n\t  \tpoisson.k = settings.k;\n\t  \tpoisson.DOT_LIMIT = settings.DOT_LIMIT;\n\t  \tpoisson.DOT_SIZE = settings.DOT_SIZE;\n\t  \tpoisson.dotCount = 0;\n\n\t  \tpoisson.cols = p.floor(p.width/w);\n\t  \tpoisson.rows = p.floor(p.height/w);\n\n\t  \tfor (var i = 0; i < poisson.cols * poisson.rows; i++) {\n\t  \t\tpoisson.grid[i] = undefined;\n\t  \t}\n\n\t  \tvar x = p.random(p.width);\n\t  \tvar y = p.random(p.height);\n\t  \t// var x = width/2;\n\t  \t// var y = height/2;\n\t  \tvar h = p.floor(x/w);\n\t  \tvar j = p.floor(y/w);\n\t  \tvar pos = p.createVector(x,y);\n\n\t  \tpoisson.grid[h+j * poisson.cols] = pos;\n\n\t  \tpoisson.active.push(pos);\n\n\t  \treturn poisson;\n\t  }\n\t};\n\n\tvar myp5 = new p5(sketch);\n\n})(window, jQuery);"],"sourceRoot":"/source/"}